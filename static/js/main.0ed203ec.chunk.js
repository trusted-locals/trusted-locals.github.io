(this["webpackJsonptrusted-locals-frontend"]=this["webpackJsonptrusted-locals-frontend"]||[]).push([[0],{27:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return f})),t.d(n,"e",(function(){return m})),t.d(n,"b",(function(){return h})),t.d(n,"d",(function(){return p})),t.d(n,"f",(function(){return y})),t.d(n,"g",(function(){return E})),t.d(n,"h",(function(){return v}));var a,r=t(30),o=t(44),c=t(22),i=t(46),l=t(68),u={credentials:"include",headers:{"Content-Type":"application/json"}};function s(e,n){return window.fetch("https://ec2-54-89-76-249.compute-1.amazonaws.com"+e,Object(l.a)({},u,{},n)).then((function(e){return e.json().then((function(n){if(e.ok)return n;throw n}))})).catch((function(e){throw new Error(e.errorMessage||"An unknown error has occured.")}))}var d="token",f=Object(o.b)("".concat("user","/loggedIn"),(function(e){return s("/user/login",{body:JSON.stringify(e),method:"POST"}).then((function(e){return i.b.push("/"),localStorage.setItem(d,e.token),e}))})),m=Object(o.b)("".concat("user","/registered"),(function(e){return s("/user",{body:JSON.stringify(e),method:"POST"}).then((function(e){return i.b.push("/"),e}))})),g=Object(o.c)({name:"user",initialState:{async:{error:null,loading:"idle"},isLoggedIn:!1},reducers:{authTokenChecked:function(e,n){e.isLoggedIn=n.payload.authTokenExists},loggedOut:function(e){e.isLoggedIn=!1}},extraReducers:(a={},Object(r.a)(a,f.pending.type,(function(e){"idle"===e.async.loading&&(e.async.loading="pending")})),Object(r.a)(a,f.fulfilled.type,(function(e,n){"pending"===e.async.loading&&(e.async.loading="idle",e.isLoggedIn=!0)})),Object(r.a)(a,f.rejected.type,(function(e,n){"pending"===e.async.loading&&(e.async.loading="idle",e.async.error=n.error.message)})),Object(r.a)(a,m.pending.type,(function(e){"idle"===e.async.loading&&(e.async.loading="pending")})),Object(r.a)(a,m.fulfilled.type,(function(e,n){"pending"===e.async.loading&&(e.async.loading="idle",e.isLoggedIn=!0)})),Object(r.a)(a,m.rejected.type,(function(e,n){"pending"===e.async.loading&&(e.async.loading="idle",e.async.error=n.error.message)})),a)}),b=g.actions,h=b.authTokenChecked,p=b.loggedOut,y=function(e){return Object(c.a)((function(e){return e.user.async}),(function(e){return e}))(e)},E=function(e){return Object(c.a)((function(e){return e.user.isLoggedIn}),(function(e){return e}))(e)},v=g.reducer},46:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o}));var a=t(16),r="/",o=Object(a.b)({basename:r})},76:function(e,n,t){e.exports=t(93)},93:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(48),c=t.n(o),i=t(35),l=t(33),u=t(20),s=t(98),d=t(100),f=t(7),m=t(37),g=t(62),b=t(75),h=function(){var e=Object(a.useState)(!1),n=Object(g.a)(e,2),t=n[0],o=n[1];return Object(a.useEffect)((function(){var e=setTimeout((function(){return o(!0)}),500);return function(){clearTimeout(e)}}),[]),r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(b.a,{label:"Loading..."}))},p=t(27),y=function(e){var n=e.children,t=e.lazyload,o=e.path,c=e.redirect,l=Object(i.c)(p.g);if("logged-in"===(null===c||void 0===c?void 0:c.when)&&l||"logged-out"===(null===c||void 0===c?void 0:c.when)&&!l)return r.a.createElement(m.a,{to:{pathname:null===c||void 0===c?void 0:c.path}});var u=r.a.createElement(m.b,{path:o||""},n);return t?r.a.createElement(a.Suspense,{fallback:r.a.createElement(h,null)},u):u},E=t(99),v=function(e){var n=e.type;return r.a.createElement(f.a,{paddingX:4},n," feed")},w=t(95),O=t(96),j=t(59),k=t(47),z=t(74),S=function(){return r.a.createElement(w.a,{as:"a",fontWeight:"semibold",textDecoration:"underline"},"Richmond")},T=function(e){return r.a.createElement(f.a,{paddingX:4},r.a.createElement(w.a,{color:"gray.600",fontSize:"lg"},"Good morning, ","Timothy"),r.a.createElement(w.a,{color:"gray.600",fontSize:"lg",marginTop:1},"Here are the latest for ",r.a.createElement(S,null)),r.a.createElement(O.a,{marginTop:4},r.a.createElement(j.a,null,r.a.createElement(k.a,{color:"gray.400",name:"search"})),r.a.createElement(z.a,{placeholder:"Use keywords to search for information",type:"text"})))},x=[{id:"tabs-news-tab",name:"News",to:"/feed/news"},{id:"tabs-medical-supply-tab",name:"Medical Supply",to:"/feed/medical-supply"},{id:"tabs-grocery-tab",name:"Grocery",to:"/feed/grocery"},{id:"tabs-advice-tab",name:"Advice",to:"/feed/advice"}],L={marginTop:6},A=function(e){var n=e.children;return r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a,{display:["block","none"]},r.a.createElement(E.e,Object.assign({},L,{size:"sm"}),n)),r.a.createElement(f.a,{display:["none","block"]},r.a.createElement(E.e,Object.assign({},L,{size:"md"}),n)))},I=function(){var e=Object(m.g)().pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(A,null,r.a.createElement(E.c,{id:"tabs"},x.map((function(n){var t=n.id,a=n.name,o=n.to;return r.a.createElement(E.a,{"aria-controls":"tabs","aria-selected":e===o,as:l.b,id:t,key:a,tabIndex:0,to:o},a)}))),r.a.createElement(E.d,{marginTop:8},r.a.createElement(m.d,null,x.map((function(e){var n=e.name,t=e.to;return r.a.createElement(m.b,{exact:!0,key:n,path:t},r.a.createElement(v,{type:n}))})),r.a.createElement(m.a,{from:"/",to:"/feed/news"})))))},W=t(97),C=function(e){var n=e.ariaLabel,t=e.icon,a=e.isActive,o=e.name,c=e.to;return r.a.createElement(l.b,{to:c},r.a.createElement(f.a,{alignItems:"center",display:"flex",flexDirection:"column",paddingY:2},r.a.createElement(W.a,{"aria-label":n,as:"span",icon:t,isActive:a,size:"md",variant:"link",variantColor:"gray"}),r.a.createElement(w.a,{as:"span",color:a?"black":"gray.600",fontSize:"sm"},o)))},P=Object(a.lazy)((function(){return t.e(8).then(t.bind(null,105)).then((function(e){return{default:e.Submit}}))})),R=Object(a.lazy)((function(){return t.e(6).then(t.bind(null,106)).then((function(e){return{default:e.Profile}}))})),N=Object(a.lazy)((function(){return t.e(5).then(t.bind(null,110)).then((function(e){return{default:e.Account}}))})),F=(Object(a.lazy)((function(){return t.e(3).then(t.bind(null,111)).then((function(e){return{default:e.Login}}))})),Object(a.lazy)((function(){return t.e(9).then(t.bind(null,107)).then((function(e){return{default:e.ResetPassword}}))}))),J=(Object(a.lazy)((function(){return t.e(4).then(t.bind(null,108)).then((function(e){return{default:e.Registration}}))})),Object(a.lazy)((function(){return t.e(7).then(t.bind(null,109)).then((function(e){return{default:e.Page404}}))}))),U={home:{ariaLabel:"home button",icon:"view",name:"Home",to:"/feed"},submit:{ariaLabel:"submit button",icon:"plus-square",name:"Submit",to:"/submit"},profile:{ariaLabel:"profile button",icon:"settings",name:"Profile",to:"/profile"},account:{ariaLabel:"account button",icon:"settings",name:"Account",to:"/account"}},M={home:U.home,submit:U.submit,profile:U.profile},B={home:U.home,submit:U.submit,account:U.account},D=function(){var e,n=Object(m.g)(),t=Object(i.c)(p.g),a=(e=t,Object.values(e?M:B));return r.a.createElement(r.a.Fragment,null,r.a.createElement(m.d,null,r.a.createElement(y,{lazyload:!1,path:"/feed"},r.a.createElement(I,null)),r.a.createElement(y,{lazyload:!0,path:"/submit"},r.a.createElement(P,null)),r.a.createElement(y,{lazyload:!0,path:"/profile",redirect:{path:"/account",when:"logged-out"}},r.a.createElement(R,null)),r.a.createElement(y,{lazyload:!0,path:"/account/reset-password",redirect:{path:"/profile",when:"logged-in"}},r.a.createElement(F,null)),r.a.createElement(y,{lazyload:!0,path:"/account/login",redirect:{path:"/profile",when:"logged-in"}},r.a.createElement(P,null)),r.a.createElement(y,{lazyload:!0,path:"/account/register",redirect:{path:"/profile",when:"logged-in"}},r.a.createElement(P,null)),r.a.createElement(y,{lazyload:!0,path:"/account",redirect:{path:"/profile",when:"logged-in"}},r.a.createElement(N,null)),r.a.createElement(m.a,{exact:!0,from:"/",to:"/feed"}),r.a.createElement(y,{lazyload:!0,path:null},r.a.createElement(J,null))),r.a.createElement("nav",null,r.a.createElement(f.a,{borderTop:"1px solid",borderColor:"gray.300",bottom:"0",display:"flex",position:"fixed",width:"100%"},a.map((function(e){return r.a.createElement(f.a,{flex:"1 1 0",key:e.name},r.a.createElement(C,Object.assign({},e,{isActive:n.pathname.startsWith(e.to)})))})))))},G=t(46),H=function(){var e=Object(i.b)();return Object(a.useEffect)((function(){var n=!!localStorage.getItem(p.a);e(Object(p.b)({authTokenExists:n}))}),[e]),r.a.createElement(u.a,{theme:s.a},r.a.createElement(d.a,null),r.a.createElement(l.a,{basename:G.a},r.a.createElement(f.a,{marginTop:4},r.a.createElement(D,null))))},X=t(21),q=t(44),Y=Object(X.c)({user:p.h}),$=Object(q.a)({reducer:Y}),K=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Q(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(a.StrictMode,null,r.a.createElement(i.a,{store:$},r.a.createElement(H,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");K?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Q(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Q(n,e)}))}}()}},[[76,1,2]]]);
//# sourceMappingURL=main.0ed203ec.chunk.js.map