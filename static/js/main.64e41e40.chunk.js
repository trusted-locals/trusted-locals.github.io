(this["webpackJsonptrusted-locals-frontend"]=this["webpackJsonptrusted-locals-frontend"]||[]).push([[0],{36:function(e,n,t){"use strict";t.d(n,"a",(function(){return d})),t.d(n,"c",(function(){return f})),t.d(n,"d",(function(){return m})),t.d(n,"b",(function(){return b})),t.d(n,"e",(function(){return p})),t.d(n,"f",(function(){return h})),t.d(n,"g",(function(){return E}));var a,r=t(29),o=t(44),i=t(22),c=t(46),l=t(75),u={credentials:"include",headers:{"Content-Type":"application/json"}};function s(e,n){return window.fetch("https://ec2-54-89-76-249.compute-1.amazonaws.com"+e,Object(l.a)({},u,{},n)).then((function(e){return e.json().then((function(n){if(e.ok)return n;throw n}))})).catch((function(e){throw new Error(e.errorMessage||"An unknown error has occured.")}))}var d="token",f=Object(o.b)("".concat("user","/loggedIn"),(function(e){return s("/user/login",{body:JSON.stringify(e),method:"POST"}).then((function(e){return c.b.push("/"),localStorage.setItem(d,e.token),e}))})),m=Object(o.b)("".concat("user","/registered"),(function(e){return s("/user",{body:JSON.stringify(e),method:"POST"}).then((function(e){return c.b.push("/"),e}))})),g=Object(o.c)({name:"user",initialState:{async:{error:null,loading:"idle"},isLoggedIn:!1},reducers:{authTokenChecked:function(e,n){e.isLoggedIn=n.payload.authTokenExists}},extraReducers:(a={},Object(r.a)(a,f.pending.type,(function(e){"idle"===e.async.loading&&(e.async.loading="pending")})),Object(r.a)(a,f.fulfilled.type,(function(e,n){"pending"===e.async.loading&&(e.async.loading="idle",e.isLoggedIn=!0)})),Object(r.a)(a,f.rejected.type,(function(e,n){"pending"===e.async.loading&&(e.async.loading="idle",e.async.error=n.error.message)})),Object(r.a)(a,m.pending.type,(function(e){"idle"===e.async.loading&&(e.async.loading="pending")})),Object(r.a)(a,m.fulfilled.type,(function(e,n){"pending"===e.async.loading&&(e.async.loading="idle",e.isLoggedIn=!0)})),Object(r.a)(a,m.rejected.type,(function(e,n){"pending"===e.async.loading&&(e.async.loading="idle",e.async.error=n.error.message)})),a)}),b=g.actions.authTokenChecked,p=function(e){return Object(i.a)((function(e){return e.user.async}),(function(e){return e}))(e)},h=function(e){return Object(i.a)((function(e){return e.user.isLoggedIn}),(function(e){return e}))(e)},E=g.reducer},46:function(e,n,t){"use strict";t.d(n,"a",(function(){return r})),t.d(n,"b",(function(){return o}));var a=t(16),r="/",o=Object(a.b)({basename:r})},64:function(e,n,t){"use strict";t.d(n,"a",(function(){return A})),t.d(n,"b",(function(){return P}));var a=t(0),r=t.n(a),o=t(40),i=t(34),c=t(7),l=t(62),u=t(76),s=function(){var e=Object(a.useState)(!1),n=Object(l.a)(e,2),t=n[0],o=n[1];return Object(a.useEffect)((function(){var e=setTimeout((function(){return o(!0)}),500);return function(){clearTimeout(e)}}),[]),r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(u.a,{label:"Loading..."}))},d=t(35),f=t(100),m=function(e){var n=e.type;return r.a.createElement(c.a,{paddingX:4},n," feed")},g=t(96),b=t(97),p=t(57),h=t(47),E=t(73),y=function(){return r.a.createElement(g.a,{as:"a",fontWeight:"semibold",textDecoration:"underline"},"Richmond")},v=function(e){return r.a.createElement(c.a,{paddingX:4},r.a.createElement(g.a,{color:"gray.600",fontSize:"lg"},"Good morning, ","Timothy"),r.a.createElement(g.a,{color:"gray.600",fontSize:"lg",marginTop:1},"Here are the latest for ",r.a.createElement(y,null)),r.a.createElement(b.a,{marginTop:4},r.a.createElement(p.a,null,r.a.createElement(h.a,{color:"gray.400",name:"search"})),r.a.createElement(E.a,{placeholder:"Use keywords to search for information",type:"text"})))},w=[{id:"tabs-news-tab",name:"News",to:"/feed/news"},{id:"tabs-medical-supply-tab",name:"Medical Supply",to:"/feed/medical-supply"},{id:"tabs-grocery-tab",name:"Grocery",to:"/feed/grocery"},{id:"tabs-advice-tab",name:"Advice",to:"/feed/advice"}],j=function(){var e=Object(i.g)().pathname;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),r.a.createElement(f.e,{marginTop:6},r.a.createElement(f.c,{id:"tabs"},w.map((function(n){var t=n.id,a=n.name,o=n.to;return r.a.createElement(f.a,{"aria-controls":"tabs","aria-selected":e===o,as:d.b,id:t,key:a,tabIndex:0,to:o},a)}))),r.a.createElement(f.d,{marginTop:8},r.a.createElement(i.d,null,w.map((function(e){var n=e.name,t=e.to;return r.a.createElement(i.b,{exact:!0,key:n,path:t},r.a.createElement(m,{type:n}))})),r.a.createElement(i.a,{from:"/",to:"/feed/news"})))))},O=t(98),k=function(e){var n=e.ariaLabel,t=e.icon,a=e.isActive,o=e.name,i=e.to;return r.a.createElement(d.b,{to:i},r.a.createElement(c.a,{alignItems:"center",display:"flex",flexDirection:"column",paddingY:2},r.a.createElement(O.a,{"aria-label":n,as:"span",icon:t,isActive:a,size:"md",variant:"link",variantColor:"gray"}),r.a.createElement(g.a,{as:"span",color:a?"black":"gray.600",fontSize:"sm"},o)))},S=t(36),T=Object(a.lazy)((function(){return t.e(5).then(t.bind(null,106)).then((function(e){return{default:e.Submit}}))})),L=Object(a.lazy)((function(){return t.e(6).then(t.bind(null,107)).then((function(e){return{default:e.Profile}}))})),x=Object(a.lazy)((function(){return t.e(3).then(t.bind(null,110)).then((function(e){return{default:e.Login}}))})),I=Object(a.lazy)((function(){return t.e(7).then(t.bind(null,108)).then((function(e){return{default:e.ResetPassword}}))})),z=Object(a.lazy)((function(){return t.e(4).then(t.bind(null,109)).then((function(e){return{default:e.Registration}}))})),A="/login/reset-password",W={home:{ariaLabel:"home button",icon:"view",name:"Home",to:"/feed"},submit:{ariaLabel:"submit button",icon:"plus-square",name:"Submit",to:"/submit"},profile:{ariaLabel:"profile button",icon:"settings",name:"Profile",to:"/profile"},login:{ariaLabel:"login button",icon:"settings",name:"Login",to:"/login"},register:{ariaLabel:"registration button",icon:"settings",name:"Register",to:"/register"}},C={home:W.home,submit:W.submit,profile:W.profile},R={home:W.home,submit:W.submit,login:W.login,register:W.register},P=function(){var e,n=Object(i.g)(),t=Object(o.c)(S.f),l=(e=t,Object.values(e?C:R));return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/feed"},r.a.createElement(j,null)),r.a.createElement(i.b,{path:"/submit"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(s,null)},r.a.createElement(T,null))),r.a.createElement(i.b,{path:"/profile"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(s,null)},r.a.createElement(L,null))),r.a.createElement(i.b,{path:A},r.a.createElement(a.Suspense,{fallback:r.a.createElement(s,null)},r.a.createElement(I,null))),r.a.createElement(i.b,{path:"/login"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(s,null)},r.a.createElement(x,null))),r.a.createElement(i.b,{path:"/register"},r.a.createElement(a.Suspense,{fallback:r.a.createElement(s,null)},r.a.createElement(z,null))),r.a.createElement(i.a,{from:"/",to:"/feed"})),r.a.createElement("nav",null,r.a.createElement(c.a,{border:"1px solid",borderColor:"gray.300",bottom:"0",display:"flex",position:"fixed",width:"100%"},l.map((function(e){return r.a.createElement(c.a,{flex:"1 1 0",key:e.name},r.a.createElement(k,Object.assign({},e,{isActive:n.pathname.startsWith(e.to)})))})))))}},77:function(e,n,t){e.exports=t(94)},94:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(48),i=t.n(o),c=t(40),l=t(35),u=t(20),s=t(99),d=t(101),f=t(7),m=t(64),g=t(46),b=t(36),p=function(){var e=Object(c.b)();return Object(a.useEffect)((function(){var n=!!localStorage.getItem(b.a);e(Object(b.b)({authTokenExists:n}))}),[e]),r.a.createElement(u.a,{theme:s.a},r.a.createElement(d.a,null),r.a.createElement(l.a,{basename:g.a},r.a.createElement(f.a,{marginTop:4},r.a.createElement(m.b,null))))},h=t(21),E=t(44),y=Object(h.c)({user:b.g}),v=Object(E.a)({reducer:y}),w=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function j(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}i.a.render(r.a.createElement(a.StrictMode,null,r.a.createElement(c.a,{store:v},r.a.createElement(p,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");w?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):j(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):j(n,e)}))}}()}},[[77,1,2]]]);
//# sourceMappingURL=main.64e41e40.chunk.js.map