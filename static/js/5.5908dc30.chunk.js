(this["webpackJsonptrusted-locals-frontend"]=this["webpackJsonptrusted-locals-frontend"]||[]).push([[5],{175:function(e,t,a){"use strict";var r=a(3),n=a.n(r),i=a(5),o=a.n(i),c=a(2),l=a(4),d=a(1),s={"2xl":["4xl",null,"5xl"],xl:["3xl",null,"4xl"],lg:["xl",null,"2xl"],md:"xl",sm:"md",xs:"sm"},u=Object(d.forwardRef)((function(e,t){var a=e.size,r=void 0===a?"xl":a,i=o()(e,["size"]);return Object(c.d)(l.a,n()({ref:t,as:"h2",fontSize:s[r],lineHeight:"shorter",fontWeight:"bold",fontFamily:"heading"},i))}));u.displayName="Heading",t.a=u},177:function(e,t,a){"use strict";var r=a(5),n=a.n(r),i=a(3),o=a.n(i),c=a(2),l=a(1),d=a(4),s=a(93),u=a(15),b=function(e){var t=Object(u.a)().colorMode;return Object(c.d)(d.a,o()({as:"span",ml:1,color:{light:"red.500",dark:"red.300"}[t],"aria-hidden":"true",children:"*"},e))},p=Object(l.forwardRef)((function(e,t){var a=e.children,r=n()(e,["children"]),i=Object(s.b)(r);return Object(c.d)(d.a,o()({ref:t,fontSize:"md",pr:"12px",pb:"4px",opacity:i.isDisabled?"0.4":"1",fontWeight:"medium",textAlign:"left",verticalAlign:"middle",display:"inline-block",as:"label"},r),a,i.isRequired&&Object(c.d)(b,null))}));p.displayName="FormLabel",t.a=p},183:function(e,t,a){"use strict";a.r(t),a.d(t,"Submit",(function(){return Q}));var r=a(38),n=a(1),i=a.n(n),o=a(21),c=a(165),l=a(4),d=a(175),s=a(80),u=a(93),b=a(177),p=a(103),m=a(5),h=a.n(m),f=a(3),g=a.n(f),O=a(2),v=Object(n.forwardRef)((function(e,t){return Object(O.d)(p.a,g()({py:"8px",minHeight:"80px",lineHeight:"short",ref:t,as:"textarea"},e))}));v.displayName="Textarea";var j=v;Object(n.forwardRef)((function(e,t){var a=e.minHeight,r=void 0===a?"39px":a,i=e.onInput,o=h()(e,["minHeight","onInput"]),c=Object(n.useState)(0),l=c[0],d=c[1],s=Object(n.useRef)(),u=t||s;Object(n.useLayoutEffect)((function(){u.current&&d(u.current.scrollHeight)}),[u]);return Object(O.d)(v,g()({rows:"1",onInput:function(e){u.current&&setTimeout((function(){d("auto"),d(u.current.scrollHeight)}),0),i&&i(e)},css:{height:l,resize:"none",overflow:"hidden",minHeight:r},ref:u},o))})).displayName="ExpandingTextarea";var y=a(69),x=a(14),k=function(e){var t=e.onChange,a=e.name,r=e.variantColor,i=e.size,o=e.defaultValue,c=e.isInline,d=e.value,s=e.spacing,u=void 0===s?2:s,b=e.children,p=h()(e,["onChange","name","variantColor","size","defaultValue","isInline","value","spacing","children"]),m=Object(n.useState)(o||[]),f=m[0],v=m[1],j=Object(n.useRef)(null!=d).current,k=j?d:f,C=function(e){var a,r=e.target,n=r.checked,i=r.value;a=n?[].concat(k,[i]):k.filter((function(e){return e!==i})),!j&&v(a),t&&t(a)},w="checkbox-"+Object(y.a)(),E=a||w,S=Object(x.b)(b),z=S.map((function(e,t){var a=S.length===t+1,o=c?{mr:u}:{mb:u};return Object(O.d)(l.a,g()({display:c?"inline-block":"block"},!a&&o),Object(n.cloneElement)(e,{size:i,variantColor:r,name:E+"-"+t,onChange:C,isChecked:k.includes(e.props.value)}))}));return Object(O.d)(l.a,g()({role:"group"},p),z)},C=a(15),w=a(10),E=a.n(w),S=a(53),z=a(96),P=a(12);function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var T=Object(S.a)(l.a)((function(e){var t,a=e.type,r=void 0===a?"checkbox":a,n=e._hover,i=e._invalid,o=e._disabled,c=e._focus,l=e._checked,d=e._child,s=void 0===d?{opacity:0}:d,u=e._checkedAndChild,b=void 0===u?{opacity:1}:u,p=e._checkedAndDisabled,m=e._checkedAndFocus,h=e._checkedAndHover,f="input[type="+r+"]:checked:disabled + &, input[type="+r+"][aria-checked=mixed]:disabled + &",g="input[type="+r+"]:checked:hover:not(:disabled) + &, input[type="+r+"][aria-checked=mixed]:hover:not(:disabled) + &",O="input[type="+r+"]:checked:focus + &, input[type="+r+"][aria-checked=mixed]:focus + &",v="input[type="+r+"]:disabled + &",j="input[type="+r+"]:focus + &",y="input[type="+r+"]:hover:not(:disabled):not(:checked) + &",x="input[type="+r+"]:checked + &, input[type="+r+"][aria-checked=mixed] + &",k="input[type="+r+"][aria-invalid=true] + &";return Object(z.a)(((t={})[j]=Object(P.b)(c),t[y]=Object(P.b)(n),t[v]=Object(P.b)(o),t[k]=Object(P.b)(i),t[f]=Object(P.b)(p),t[O]=Object(P.b)(m),t[g]=Object(P.b)(h),t["& > *"]=Object(P.b)(s),t[x]=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?R(a,!0).forEach((function(t){E()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},Object(P.b)(l),{"& > *":Object(P.b)(b)}),t))}));T.displayName="ControlBox",T.defaultProps={display:"inline-flex",alignItems:"center",justifyContent:"center",transition:"all 120ms",flexShrink:"0","aria-hidden":"true"};var I=T,_=a(39),D=a(94),A=a(22);function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var H={userSelect:"none",border:"2px",rounded:"md",borderColor:"inherit",transition:"background-color 120ms, box-shadow 250ms"},L=function(e){var t={lg:5,md:4,sm:"radio"===e.type?3:"auto"};return function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){E()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},H,{},e.size&&{rounded:"sm"},{},function(e){var t=e.color,a="dark"===e.colorMode,r=a?200:500;return{color:"white",_checked:{bg:Object(A.d)(t,r),borderColor:Object(A.d)(t,r),color:a?"gray.900":void 0},_checkedAndDisabled:{borderColor:a?"transparent":"gray.200",bg:a?"whiteAlpha.300":"gray.200",color:a?"whiteAlpha.500":"gray.500"},_disabled:{bg:a?"whiteAlpha.100":"gray.100",borderColor:a?"transparent":"gray.100"},_focus:{boxShadow:"outline"},_invalid:{borderColor:a?"red.300":"red.500"}}}(e),{size:t[e.size]})},N=Object(n.forwardRef)((function(e,t){var a=e.id,r=e.name,i=e.value,o=e["aria-label"],c=(e["aria-labelledby"],e.variantColor),d=void 0===c?"blue":c,s=e.defaultIsChecked,u=e.isChecked,b=e.isFullWidth,p=e.size,m=void 0===p?"md":p,f=e.isDisabled,v=e.isInvalid,j=e.isReadOnly,y=e.onChange,k=e.onBlur,w=e.onFocus,E=e.isIndeterminate,S=e.children,z=e.iconColor,P=e.iconSize,R=void 0===P?"10px":P,T=h()(e,["id","name","value","aria-label","aria-labelledby","variantColor","defaultIsChecked","isChecked","isFullWidth","size","isDisabled","isInvalid","isReadOnly","onChange","onBlur","onFocus","isIndeterminate","children","iconColor","iconSize"]);Object(x.g)("Checkbox",d);var A=Object(C.a)().colorMode,F=L({color:d,size:m,colorMode:A}),H=Object(n.useRef)(),N=Object(x.f)(H,t);return Object(n.useEffect)((function(){N.current&&(N.current.indeterminate=Boolean(E))}),[E,N]),Object(O.d)(l.a,g()({as:"label",display:"inline-flex",verticalAlign:"top",alignItems:"center",width:b?"full":void 0,cursor:f?"not-allowed":"pointer"},T),Object(O.d)(D.a,{as:"input",type:"checkbox","aria-label":o,id:a,ref:N,name:r,value:i,onChange:j?void 0:y,onBlur:k,onFocus:w,defaultChecked:j?void 0:s,checked:j?Boolean(u):s?void 0:u,disabled:f,readOnly:j,"aria-readonly":j,"aria-invalid":v,"aria-checked":E?"mixed":u}),Object(O.d)(I,g()({opacity:j?.8:1},F),Object(O.d)(_.a,{name:E?"minus":"check",size:R,color:z,transition:"transform 240ms, opacity 240ms"})),S&&Object(O.d)(l.a,{ml:2,fontSize:m,userSelect:"none",opacity:f?.4:1},S))}));N.displayName="Checkbox";var B=N,M=Object(n.forwardRef)((function(e,t){var a=Object(C.a)().colorMode,r=Object(u.b)(e);return Object(O.d)(s.a,g()({mt:2,ref:t,id:r.id?r.id+"-help-text":null,color:{light:"gray.500",dark:"whiteAlpha.600"}[a],lineHeight:"normal",fontSize:"sm"},e))}));M.displayName="FormHelperText";var W=M,q=a(61),U=a(64),J=a(67),V=a(37),G=a(51),K=a(95),Q=function(){var e,t,a,m=Object(o.b)(),h=Object(c.a)(),f=Object(o.c)(J.a),g=f.error,O=f.loading,v=null!==(e=Object(o.c)(V.i).profile)&&void 0!==e?e:null,y=Object(n.useState)(""),x=Object(r.a)(y,2),C=x[0],w=x[1],E=Object(n.useState)(""),S=Object(r.a)(E,2),z=S[0],P=S[1],R=Object(n.useState)([]),T=Object(r.a)(R,2),I=T[0],_=T[1],D=Object(n.useState)(""),A=Object(r.a)(D,2),F=A[0],H=A[1],L=null!==(t=null===v||void 0===v?void 0:v.username)&&void 0!==t?t:null,N=null!==(a=null===v||void 0===v?void 0:v.imageURL)&&void 0!==a?a:null;return i.a.createElement(l.a,G.a,i.a.createElement(d.a,{as:"h2",size:"lg"},"Submit a post"),v&&i.a.createElement(s.a,{color:"gray.600",marginTop:8},"This post will only appear in the feed of ",v.cityName,"."),i.a.createElement("form",{onSubmit:function(e){e.preventDefault(),0!==I.length?(m(Object(J.c)({categories:I,image:""===F?null:F,text:z,title:C,userImageURL:N,username:L})),h({title:"Post submitted.",status:"success",duration:4e3,isClosable:!0})):h({title:"No category selected",description:"Please select at least one category.",status:"error",duration:7e3,isClosable:!0})}},i.a.createElement(u.a,{marginTop:8},i.a.createElement(b.a,{htmlFor:"post-title"},"Title"),i.a.createElement(p.a,{id:"post-title",isRequired:!0,marginTop:2,maxLength:32,minLength:4,onChange:function(e){w(e.target.value)},type:"text",value:C})),i.a.createElement(u.a,{marginTop:8},i.a.createElement(b.a,{htmlFor:"post-text"},"Text"),i.a.createElement(j,{id:"post-text",isRequired:!0,marginTop:2,maxLength:65536,minLength:4,onChange:function(e){P(e.target.value)},placeholder:"Share something with your local community",value:z})),i.a.createElement(u.a,{marginTop:8},i.a.createElement(b.a,{htmlFor:"post-categories"},"Categories"),i.a.createElement(k,{onChange:function(e){_(e)},value:I},Object.entries(K.a).map((function(e){var t=Object(r.a)(e,2),a=t[0],n=t[1];return i.a.createElement(B,{key:a,value:a},n)})))),i.a.createElement(u.a,{marginTop:8},i.a.createElement(b.a,{htmlFor:"post-image"},"Image"),i.a.createElement(p.a,{marginTop:2,onChange:function(e){H(e.target.value)},placeholder:"Attach a URL of an image here",type:"text",value:F}),i.a.createElement(W,{id:"post-image-helper-text"},"Providing an image is optional.")),i.a.createElement(q.a,{isLoading:"pending"===O,marginTop:10,type:"submit",variantColor:"blue"},"Submit")),g&&i.a.createElement(U.a,{marginTop:6,status:"error",variant:"left-accent"},i.a.createElement(U.c,null),g))}}}]);
//# sourceMappingURL=5.5908dc30.chunk.js.map