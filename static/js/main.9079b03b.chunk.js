(this["webpackJsonptrusted-locals-frontend"]=this["webpackJsonptrusted-locals-frontend"]||[]).push([[0],{115:function(e,t,n){e.exports=n(153)},153:function(e,t,n){"use strict";n.r(t);var a,r=n(1),o=n.n(r),i=n(36),l=n.n(i),c=n(20),u=n(43),s=n(16),d=n(170),m=n(4),f=n(19),p=n(38),g=n(100),b=function(){var e=Object(r.useState)(!1),t=Object(p.a)(e,2),n=t[0],a=t[1];return Object(r.useEffect)((function(){var e=setTimeout((function(){return a(!0)}),500);return function(){clearTimeout(e)}}),[]),o.a.createElement(o.a.Fragment,null,n&&o.a.createElement(g.a,{label:"Loading..."}))},h=n(37);!function(e){e[e.LoggedIn=0]="LoggedIn",e[e.LoggedOut=1]="LoggedOut"}(a||(a={}));var y=function(e){var t=e.children,n=e.lazyload,i=e.path,l=e.redirect,c=Object(f.c)(h.g);if((null===l||void 0===l?void 0:l.when)===a.LoggedIn&&c||(null===l||void 0===l?void 0:l.when)===a.LoggedOut&&!c)return o.a.createElement(u.a,{to:{pathname:null===l||void 0===l?void 0:l.path}});var s=o.a.createElement(u.b,{path:i||""},t);return n?o.a.createElement(r.Suspense,{fallback:o.a.createElement(b,null)},s):s},E=n(162),v=n(166),O=n(112),j=n(98),w=n(67),I=n(34),x=function(e){var t=e.category,n=Object(f.b)(),a=Object(f.c)((function(e){return Object(I.g)(e,t)})),i=a.async,l=a.posts,c=Object(f.c)(I.i);return Object(r.useEffect)((function(){null===i.error&&null===l&&n(Object(I.c)(t))}),[i.error,t,n,l]),i.error?o.a.createElement("h1",null,"An error occured"):"pending"===i.loading?o.a.createElement("h1",null,"Loading..."):null===l?o.a.createElement(o.a.Fragment,null,"TODO: Loading state"):0===Object.keys(l).length?o.a.createElement(o.a.Fragment,null,"TODO: Empty state"):o.a.createElement(m.a,{display:"grid",gridTemplateColumns:["100%","repeat(2, 1fr)","repeat(3, 1fr)","repeat(4, 1fr)"],gridGap:8,marginTop:8},function(e,t){return function(e){return e.sort((function(e,t){return e.date>t.date?-1:1}))}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().includes(t)}))}(e,t))}(Object.values(l),c).map((function(e){return o.a.createElement(w.b,Object.assign({key:e.postID},e))})))},D=n(108),L=n(78),R=n(161),k=n(87),C=n(39),P=n(97),S=n(52),T=n(49),z=function(){var e,t=null!==(e=Object(f.c)(h.i).profile)&&void 0!==e?e:null;return null===t?null:o.a.createElement(D.a,{as:"a",fontWeight:"semibold",textDecoration:"underline"},t.cityName)},U=function(e){var t,n=Object(f.b)(),a=null!==(t=Object(f.c)(h.i).profile)&&void 0!==t?t:null,r=o.a.useState(!1),i=Object(p.a)(r,2),l=i[0],u=i[1];return a?o.a.createElement(m.a,T.a,o.a.createElement(D.a,{color:"gray.600",fontSize:"lg"},"Good morning, ",a.firstName||a.cityName),o.a.createElement(D.a,{color:"gray.600",cursor:"pointer",fontSize:"lg",marginTop:1,onClick:function(){u(!0)}},"Here are the latest for ",o.a.createElement(z,null)),o.a.createElement(R.a,{marginTop:4},o.a.createElement(k.a,null,o.a.createElement(C.a,{color:"gray.400",name:"search"})),o.a.createElement(P.a,{"aria-label":"feed search",id:"feed-search",fontSize:["xs","sm","md"],maxWidth:400,onChange:function(e){var t=e.target.value.toLowerCase();n(Object(I.a)({searchValue:t}))},placeholder:"Use keywords to search for information",type:"text"})),o.a.createElement(S.a,{isOpen:l,onClose:function(){u(!1)}},o.a.createElement(S.g,null),o.a.createElement(S.d,null,o.a.createElement(S.f,null,"Changing the feed's location"),o.a.createElement(S.c,null),o.a.createElement(S.b,null,o.a.createElement(D.a,{fontWeight:"semibold"},"Not yet implemented"),o.a.createElement(D.a,{marginTop:4},"Here you will be able to change the feed's location and see posts from all over the world. However, creating posts and validating other posts is restricted to your location.")),o.a.createElement(S.e,null,o.a.createElement(L.a,{onClick:function(){u(!1)},variantColor:"green"},"OK"))))):o.a.createElement(m.a,T.a,o.a.createElement("p",null,"Sign in to vote and contribute."),o.a.createElement(c.b,{to:"/account/login"},o.a.createElement(L.a,{marginTop:4,size:"sm",variantColor:"green"},"Sign in")))},B=function(){return getComputedStyle(document.querySelector("body"))["font-size"]},W=[{category:"news",id:"tabs-news-tab",name:"News",to:"/feed/news"},{category:"medical_supply",id:"tabs-medical-supply-tab",name:"Medical Supply",to:"/feed/medical-supply"},{category:"grocery",id:"tabs-grocery-tab",name:"Grocery",to:"/feed/grocery"},{category:"advice",id:"tabs-advice-tab",name:"Advice",to:"/feed/advice"}],M=function(){var e=Object(u.h)().pathname,t=Object(E.a)(e),n=function(e){return e/parseFloat(B())}(Object(O.a)(0,{leading:!0,wait:250}))<=30?"sm":"md";return o.a.createElement(m.a,{marginTop:2},o.a.createElement(U,null),o.a.createElement(v.e,{marginTop:[6,6,8],size:n,variantColor:"green"},o.a.createElement(v.c,Object.assign({id:"tabs"},T.a,{width:["100%","100%","90%","80%","70%"]}),W.map((function(t){var n=t.id,a=t.name,r=t.to;return o.a.createElement(v.a,{"aria-controls":"tabs","aria-selected":e===r,as:c.b,id:n,key:a,tabIndex:0,to:r},a)}))),o.a.createElement(v.d,Object.assign({marginTop:8,outline:"none"},T.a),o.a.createElement(u.d,null,W.map((function(e){var t=e.category,n=e.to;return o.a.createElement(u.b,{exact:!0,key:t,path:n},o.a.createElement(x,{category:t}))})),o.a.createElement(u.b,{path:"/feed/detail/:postID",render:function(e){return o.a.createElement(j.b,Object.assign({},e,{previousPathname:t}))}}),o.a.createElement(u.a,{from:"/",to:"/feed/news"})))))},H=n(163),N=function(e){var t=e.ariaLabel,n=e.icon,a=e.isActive,r=e.name,i=e.to;return o.a.createElement(c.b,{to:i},o.a.createElement(m.a,{alignItems:"center",display:"flex",flexDirection:"column",paddingY:2},o.a.createElement(H.a,{"aria-label":t,as:"span",icon:n,isActive:a,size:"md",variant:"link",variantColor:"gray"}),o.a.createElement(D.a,{as:"span",color:a?"black":"gray.600",fontSize:"sm"},r)))},F=Object(r.lazy)((function(){return n.e(5).then(n.bind(null,178)).then((function(e){return{default:e.Submit}}))})),q=Object(r.lazy)((function(){return n.e(8).then(n.bind(null,173)).then((function(e){return{default:e.Profile}}))})),A=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,179)).then((function(e){return{default:e.Account}}))})),V=Object(r.lazy)((function(){return n.e(3).then(n.bind(null,174)).then((function(e){return{default:e.Login}}))})),_=Object(r.lazy)((function(){return n.e(9).then(n.bind(null,175)).then((function(e){return{default:e.ResetPassword}}))})),J=Object(r.lazy)((function(){return n.e(4).then(n.bind(null,176)).then((function(e){return{default:e.Registration}}))})),Q=Object(r.lazy)((function(){return n.e(6).then(n.bind(null,177)).then((function(e){return{default:e.Page404}}))})),G={home:{ariaLabel:"home button",icon:"mdHome",name:"Home",to:"/feed"},submit:{ariaLabel:"submit button",icon:"mdAdd",name:"Submit",to:"/submit"},profile:{ariaLabel:"profile button",icon:"mdPerson",name:"Profile",to:"/profile/me"},account:{ariaLabel:"account button",icon:"mdPerson",name:"Account",to:"/account"}},K={home:G.home,submit:G.submit,profile:G.profile},X={home:G.home,submit:G.submit,account:G.account},Y=function(){var e,t=Object(u.h)(),n=Object(f.c)(h.g),r=(e=n,Object.values(e?K:X));return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.d,null,o.a.createElement(y,{lazyload:!1,path:"/feed"},o.a.createElement(M,null)),o.a.createElement(y,{lazyload:!0,path:"/submit"},o.a.createElement(F,null)),o.a.createElement(y,{lazyload:!0,path:"/profile/me",redirect:{path:"/account",when:a.LoggedOut}},o.a.createElement(q,null)),o.a.createElement(y,{lazyload:!0,path:"/account/reset-password",redirect:{path:"/profile/me",when:a.LoggedIn}},o.a.createElement(_,null)),o.a.createElement(y,{lazyload:!0,path:"/account/login",redirect:{path:"/profile/me",when:a.LoggedIn}},o.a.createElement(V,null)),o.a.createElement(y,{lazyload:!0,path:"/account/register",redirect:{path:"/profile/me",when:a.LoggedIn}},o.a.createElement(J,null)),o.a.createElement(y,{lazyload:!0,path:"/account",redirect:{path:"/profile/me",when:a.LoggedIn}},o.a.createElement(A,null)),o.a.createElement(u.a,{exact:!0,from:"/profile",to:"/profile/me"}),o.a.createElement(y,{lazyload:!0,path:"/profile"},o.a.createElement(q,null)),o.a.createElement(u.a,{exact:!0,from:"/",to:"/feed"}),o.a.createElement(y,{lazyload:!0,path:null},o.a.createElement(Q,null))),o.a.createElement("nav",null,o.a.createElement(m.a,{backgroundColor:"white",borderTop:"1px solid",borderColor:"gray.300",bottom:"0",display:"flex",position:"fixed",width:"100%",zIndex:1},r.map((function(e){return o.a.createElement(m.a,{flex:"1 1 0",key:e.name},o.a.createElement(N,Object.assign({},e,{isActive:t.pathname.startsWith(e.to)})))})))))},$=n(168),Z=n(84),ee=n(164),te=function(){var e=Object(r.useRef)(),t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0],i=n[1],l="?hide-welcome-drawer=true"===Object(u.h)().search,c=function(){localStorage.setItem("did-see-welcome-drawer-02","true"),i(!1)};return Object(r.useEffect)((function(){if(!l){var e=localStorage.getItem("did-see-welcome-drawer-02");i("true"!==e)}}),[l]),o.a.createElement($.a,{isOpen:a,initialFocusRef:e,isFullHeight:!0,onClose:c,placement:"top",scrollBehavior:"inside"},o.a.createElement($.d,null),o.a.createElement($.c,null,o.a.createElement($.b,null),o.a.createElement(S.f,{margin:["inherit","inherit","0 auto"],maxWidth:500},o.a.createElement(Z.a,{alt:"logo of trusted locals",src:"/logos/logo-transparent.png"})),o.a.createElement(S.b,{margin:"0 auto",maxWidth:500},o.a.createElement(ee.a,{as:"h3",marginTop:4,size:"sm"},"About"),o.a.createElement(D.a,null,"We believe people are best served through their local communities. By crowdsourcing information related to your community in an organized and audited way that are visible to everyone, it can build up trust and empower people to take actions with confidence."),o.a.createElement(ee.a,{as:"h3",marginTop:8,size:"sm"},"Disclaimer"),o.a.createElement(D.a,null,"In this demo, you will be logged in with the profile of one of our developers. None of your votes or created posts will be saved. The posts you see are made up, and should not be taken seriously."),o.a.createElement(L.a,{marginTop:8,ref:e,onClick:c,variantColor:"green"},"Show the demo"))))},ne=n(53),ae=function(){return o.a.createElement(s.a,{theme:T.b},o.a.createElement(d.a,null),o.a.createElement(c.a,{basename:ne.a},o.a.createElement(u.c,{history:ne.b},o.a.createElement(te,null),o.a.createElement(m.a,{marginBottom:24},o.a.createElement(Y,null)))))},re=n(40),oe=n(26),ie=n(66),le=Object(re.c)({feed:I.b,submit:ie.b,user:h.k}),ce=Object(oe.a)({reducer:le});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(r.StrictMode,null,o.a.createElement(f.a,{store:ce},o.a.createElement(ae,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,n){"use strict";n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return p})),n.d(t,"h",(function(){return g})),n.d(t,"g",(function(){return b})),n.d(t,"i",(function(){return h})),n.d(t,"b",(function(){return y})),n.d(t,"a",(function(){return E}));var a,r=n(7),o=n(25),i=n(26),l=n(23),c=n(55),u=n(66),s=Object(i.b)("".concat("feed","/loadRequested"),(function(e){return Promise.resolve({posts:c.a[e]})})),d=Object(i.b)("".concat("feed","/postRequested"),(function(e){return Promise.resolve({post:c.b[e]})})),m=Object(i.b)("".concat("feed","/requestedPostsByIDs"),(function(e){return Promise.resolve({posts:e.reduce((function(e,t){return Object(o.a)({},e,Object(r.a)({},t,c.b[t]))}),{})})})),f=Object(i.c)({name:"feed",initialState:{categories:{advice:{async:{error:null,loading:"idle"},postIDs:null},grocery:{async:{error:null,loading:"idle"},postIDs:null},medical_supply:{async:{error:null,loading:"idle"},postIDs:null},news:{async:{error:null,loading:"idle"},postIDs:null}},posts:{},searchValue:""},reducers:{changedSearchValue:function(e,t){e.searchValue=t.payload.searchValue}},extraReducers:(a={},Object(r.a)(a,u.c.fulfilled.type,(function(e,t){var n,a,r=t.meta.arg,o={categories:r.categories,comments:r.comments,date:+new Date,imageURL:r.image,postID:null!==(n=(null===(a=Object.values(e.posts))||void 0===a?void 0:a.length)+1)&&void 0!==n?n:1,rating:null,text:r.text,title:r.title,userImageURL:r.userImageURL,username:r.username||""};e.posts[o.postID]={async:{error:null,loading:"idle"},post:o},o.categories.forEach((function(t){var n=e.categories[t];n.postIDs?n.postIDs.push(o.postID):n.postIDs=[o.postID]}))})),Object(r.a)(a,s.pending.type,(function(e,t){var n=t.meta.arg;e.categories[n].async.loading="pending"})),Object(r.a)(a,s.fulfilled.type,(function(e,t){var n=t.meta.arg,a=e.categories[n];a.async.error=null,a.async.loading="idle",a.postIDs=Object.values(t.payload.posts).map((function(e){return e.postID}));var i=Object.values(t.payload.posts).reduce((function(e,t){return Object(o.a)({},e,Object(r.a)({},t.postID,{async:{error:null,loading:"idle"},post:t}))}),{});Object.assign(e.posts,i)})),Object(r.a)(a,s.rejected.type,(function(e,t){var n=t.meta.arg,a=e.categories[n].async;a.loading="idle",a.error=t.error.message})),Object(r.a)(a,d.pending.type,(function(e,t){var n,a=t.meta.arg,r=null!==(n=e.posts[a])&&void 0!==n?n:{async:{}};r.async.loading="pending",e.posts[a]=r})),Object(r.a)(a,d.fulfilled.type,(function(e,t){var n=t.meta.arg,a=e.posts[n];a.async.error=null,a.async.loading="idle",a.post=t.payload.post})),Object(r.a)(a,d.rejected.type,(function(e,t){var n,a=t.meta.arg,r=null!==(n=e.posts[a])&&void 0!==n?n:{};r.async={error:t.error.message,loading:"idle"},r.post=null,e.posts[a]=r})),Object(r.a)(a,m.pending.type,(function(e,t){})),Object(r.a)(a,m.fulfilled.type,(function(e,t){var n=Object.values(t.payload.posts).reduce((function(e,t){return Object(o.a)({},e,Object(r.a)({},t.postID,{async:{error:null,loading:"idle"},post:t}))}),{});Object.assign(e.posts,n)})),Object(r.a)(a,m.rejected.type,(function(e,t){})),a)}),p=function(e,t){return Object(l.a)((function(e){var n;return null!==(n=e.feed.posts[t])&&void 0!==n?n:null}),(function(e){return e}))(e)},g=function(e,t){return Object(l.a)((function(e){return t.map((function(t){var n;return null!==(n=e.feed.posts[t])&&void 0!==n?n:null})).filter(Boolean).reduce((function(e,t){var n;return Object(o.a)({},e,Object(r.a)({},null===(n=t.post)||void 0===n?void 0:n.postID,t))}),{})}),(function(e){return e}))(e)},b=function(e,t){return Object(l.a)((function(e){var n=e.feed.categories[t].postIDs,a=null===n?null:Object.values(e.feed.posts).reduce((function(e,t){var a=t.post;return null!==a&&n.includes(a.postID)?Object(o.a)({},e,Object(r.a)({},a.postID,a)):e}),{});return{async:e.feed.categories[t].async,posts:a}}),(function(e){return e}))(e)},h=function(e){return Object(l.a)((function(e){return e.feed.searchValue}),(function(e){return e}))(e)},y=f.reducer,E=f.actions.changedSearchValue},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"d",(function(){return E})),n.d(t,"c",(function(){return v})),n.d(t,"b",(function(){return I})),n.d(t,"e",(function(){return x})),n.d(t,"f",(function(){return D})),n.d(t,"g",(function(){return L})),n.d(t,"h",(function(){return R})),n.d(t,"i",(function(){return k})),n.d(t,"j",(function(){return C})),n.d(t,"k",(function(){return P}));var a=n(25),r=n(7),o=n(26),i=n(23),l={credentials:"include",headers:{"Content-Type":"application/json"}};function c(e,t){return window.fetch("https://ec2-54-89-76-249.compute-1.amazonaws.com"+e,Object(a.a)({},l,{},t)).then((function(e){return e.json().then((function(t){if(e.ok)return t;throw t}))})).catch((function(e){throw new Error(e.errorMessage||"An unknown error has occured.")}))}var u,s=n(53),d=n(55),m=n(34),f="".concat("user","/ownProfile/pending"),p="".concat("user","/ownProfile/fulfilled"),g="".concat("user","/ownProfile/rejected"),b={cityName:"Richmond",email:"foo@bar.com",firstName:"Oliver",lastName:"Micke",postsCount:4,postIDs:[1,3,4,5],rating:49,username:"olivermicke",imageURL:d.d},h={emily_rose28:{cityName:"Richmond",rating:78,postsCount:2,postIDs:[2,6],username:"emily_rose28",imageURL:d.c}},y=Object(o.b)("".concat("user","/loggedIn"),(function(e){return c("/user/login",{body:JSON.stringify(e),method:"POST"}).then((function(e){return s.b.push("/feed"),e}))})),E=Object(o.b)("".concat("user","/registered"),(function(e){return c("/user",{body:JSON.stringify(e),method:"POST"}).then((function(e){return s.b.push("/feed"),e}))})),v=Object(o.b)("".concat("user","/openedOtherProfile"),(function(e){var t=e.username;return Promise.resolve(h[t])})),O=Object(o.c)({name:"user",initialState:{async:{error:null,loading:"idle"},isLoggedIn:!0,profile:{async:{error:null,loading:"idle"},profile:b},otherProfile:{async:{error:null,loading:"idle"},profile:null}},reducers:{loggedOut:function(e){e.profile.profile=null,e.isLoggedIn=!1}},extraReducers:(u={},Object(r.a)(u,y.pending.type,(function(e){"idle"===e.async.loading&&(e.async.loading="pending")})),Object(r.a)(u,y.fulfilled.type,(function(e,t){"pending"===e.async.loading&&(e.async.loading="idle",e.isLoggedIn=!0,e.profile={async:{error:null,loading:"idle"},profile:b})})),Object(r.a)(u,y.rejected.type,(function(e,t){"pending"===e.async.loading&&(e.async.loading="idle",e.async.error=t.error.message)})),Object(r.a)(u,E.pending.type,(function(e){"idle"===e.async.loading&&(e.async.loading="pending")})),Object(r.a)(u,E.fulfilled.type,(function(e,t){"pending"===e.async.loading&&(e.async.loading="idle",e.isLoggedIn=!0,e.profile.profile=b)})),Object(r.a)(u,E.rejected.type,(function(e,t){"pending"===e.async.loading&&(e.async.loading="idle",e.async.error=t.error.message)})),Object(r.a)(u,v.pending.type,(function(e){e.otherProfile.async.error=null,e.otherProfile.async.loading="pending"})),Object(r.a)(u,v.fulfilled.type,(function(e,t){e.otherProfile.async.loading="idle",e.otherProfile.profile=t.payload})),Object(r.a)(u,v.rejected.type,(function(e,t){e.otherProfile.async.loading="idle",e.otherProfile.async.error=t.error.message})),Object(r.a)(u,f,(function(e){e.profile.async.error=null,e.profile.async.loading="pending"})),Object(r.a)(u,p,(function(e,t){e.profile.async.loading="idle",e.profile.profile=t.payload.profile})),Object(r.a)(u,g,(function(e,t){e.profile.async.loading="idle",e.profile.async.error=t.error.message})),u)}),j={requestedPostsOfUser:function(e){var t=e.isOwnProfile,n=e.userNameParam;return function(e,a){Promise.resolve({profile:t?b:h[n]}).then((function(n){var a=n.profile;e(Object(m.e)(a.postIDs)),t&&e({type:p,payload:{profile:a}})})).catch((function(t){e({error:t,type:g})}))}}},w=Object(a.a)({},O.actions,{},j),I=w.loggedOut,x=w.requestedPostsOfUser,D=function(e){return Object(i.a)((function(e){return e.user.async}),(function(e){return e}))(e)},L=function(e){return Object(i.a)((function(e){return e.user.isLoggedIn}),(function(e){return e}))(e)},R=function(e){return Object(i.a)((function(e){return e.user.otherProfile}),(function(e){return e}))(e)},k=function(e){return Object(i.a)((function(e){return e.user.profile}),(function(e){return e}))(e)},C=function(e){return Object(i.a)((function(e){return e.user.profile&&e.user.profile.profile?e.user.profile.profile.username:null}),(function(e){return e}))(e)},P=O.reducer},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return s}));var a=n(25),r=n(1),o=n.n(r),i=n(76),l=n(86),c=n(114),u={marginTop:[4,4,8],marginX:"auto",width:["80%","90%","90%","80%","70%"]},s=Object(a.a)({},c.a,{icons:Object(a.a)({},c.a.icons,{ioMdEye:{path:o.a.createElement(l.a,null),viewBox:"0 0 16 16"},ioMdEyeOff:{path:o.a.createElement(l.b,null),viewBox:"0 0 16 16"},mdAdd:{path:o.a.createElement(i.a,null),viewBox:"0 0 16 16"},mdHome:{path:o.a.createElement(i.b,null),viewBox:"0 0 16 16"},mdPerson:{path:o.a.createElement(i.c,null),viewBox:"0 0 16 16"}})})},53:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var a=n(33),r="/",o=Object(a.b)({basename:r})},55:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var a="/img/oliver-micke.jpg",r="https://images.unsplash.com/photo-1508214751196-bcfd4ca60f91?ixlib=rb-1.2.1&auto=format&fit=crop&w=300&q=60",o={1:{categories:["news"],date:1588136357988,postID:1,rating:23,text:"VCU Developed COVID-19 test",title:"VCU Developed COVID-19 test",username:"olivermicke",imageURL:"https://images.unsplash.com/photo-1511174511562-5f7f18b874f8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80",userImageURL:a,comments:[]},2:{categories:["grocery"],date:1588149191407,postID:2,rating:72,text:"We will have a limited supply of toilet paper at Target on Broad street for the next days \u2013 source: I work there.",title:"Limited supply of toilet paper at Target on Broad street",username:"emily_rose28",imageURL:"https://images.unsplash.com/photo-1584556812952-905ffd0c611a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80",userImageURL:r,comments:[{comment:"do you know when can the next delivery be expected?",commentID:104,date:1588226948308,userImageURL:a,username:"olivermicke"}]},3:{categories:["news","medical_supply"],comments:[{comment:"Only one box left when I was there at 11",commentID:101,date:1588227159951,userImageURL:r,username:"emily_rose28"}],date:1588212413593,postID:3,rating:74,text:"Found some N95 masks available in the home depot in Henrico. I saw at least 3 boxes when I was there at around 9:30 AM",title:"N95 masks available again in Home Depot in Henrico",username:"olivermicke",imageURL:"https://images.unsplash.com/photo-1584462198614-03c2a523945d?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80",userImageURL:a},4:{categories:["advice"],date:1588130783737,postID:4,rating:44,text:"Especially in areas with community-spread, it's recommended to wear face masks whenever possible.",title:"CDC recommends to wear face masks",username:"olivermicke",imageURL:"https://images.unsplash.com/photo-1582795003154-35736cf26353?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80",userImageURL:a,comments:[{comment:"In case you don't have masks yet, home depot in henrico has got some available",commentID:102,date:1588227470790,userImageURL:r,username:"emily_rose28"}]},5:{categories:["news","grocery"],date:1588154950247,postID:5,rating:54,text:"A friend of mine just told me that toilet paper production was ramped up to keep up with the incresed demand.",title:"Toilet paper production ramping up",username:"olivermicke",imageURL:"https://images.unsplash.com/photo-1583541988180-fdf816b632e6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80",userImageURL:a,comments:[{comment:"That's great to hear because I work at Target at broad street and we are running out of supplies",commentID:106,date:1588227254358,userImageURL:r,username:"emily_rose28"}]},6:{categories:["news"],comments:[],date:1588216365624,postID:6,rating:84,text:"Service disconnection has just been suspended!",title:"Service disconnection has been suspended",username:"emily_rose28",imageURL:"https://images.unsplash.com/uploads/141086319550951a179e1/a07e0918?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=80",userImageURL:r}},i={news:{1:o[1],3:o[3],5:o[5],6:o[6]},medical_supply:{3:o[3]},grocery:{2:o[2],5:o[5]},advice:{4:o[4]}}},60:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(1),r=n.n(a),o=n(4),i=n(108),l=n(160),c=n(25),u=n(20),s=n(158),d=n(167),m=s.a,f=function(e){var t=e.style,n=e.userImageURL,a=e.username,o="/profile"+"/".concat(a);return r.a.createElement(m,{as:u.b,to:o,style:Object(c.a)({},t,{textDecoration:"none"})},n&&r.a.createElement(d.a,{marginRight:2,name:a,size:"xs",src:null!==n&&void 0!==n?n:""}),r.a.createElement(i.a,{as:"span",color:"gray.500",fontSize:"sm"},a))},p=function(e){var t=e.date;return r.a.createElement(r.a.Fragment,null,function(e){"object"!==typeof e&&(e=new Date(e));var t,n=Math.floor((new Date-e)/1e3),a=Math.floor(n/31536e3);return a>=1?t="year":(a=Math.floor(n/2592e3))>=1?t="month":(a=Math.floor(n/86400))>=1?t="day":(a=Math.floor(n/3600))>=1?t="hour":(a=Math.floor(n/60))>=1?t="minute":(a=n,t="second"),(a>1||0===a)&&(t+="s"),a+" "+t}(t)," ago")},g=function(e){var t=e.date,n=e.userImageURL,a=e.username,c=e.style;return r.a.createElement(o.a,Object.assign({alignItems:"center",display:"flex",marginTop:2},c),r.a.createElement(i.a,{alignItems:"center",as:"span",color:"gray.500",display:"flex",fontSize:"sm",fontWeight:"normal",height:"100%"},r.a.createElement(p,{date:new Date(t)})),r.a.createElement(l.a,{borderColor:"gray.300",height:"24px",orientation:"vertical"}),r.a.createElement(f,{style:{alignItems:"center",display:"flex",height:"100%"},userImageURL:n,username:a}))}},66:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a,r=n(7),o=n(26),i=n(23),l=n(53),c=Object(o.b)("".concat("submit","/submitted"),(function(e){l.b.push("/")})),u=Object(o.c)({name:"submit",initialState:{async:{error:null,loading:"idle"}},reducers:{},extraReducers:(a={},Object(r.a)(a,c.pending.type,(function(e){"idle"===e.async.loading&&(e.async.loading="pending")})),Object(r.a)(a,c.fulfilled.type,(function(e,t){"pending"===e.async.loading&&(e.async.loading="idle")})),Object(r.a)(a,c.rejected.type,(function(e,t){"pending"===e.async.loading&&(e.async.loading="idle",e.async.error=t.error.message)})),a)}),s=function(e){return Object(i.a)((function(e){return e.submit.async}),(function(e){return e}))(e)},d=u.reducer},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return g}));var a=n(1),r=n.n(a),o=n(20),i=n(4),l=n(158),c=n(31),u=n(84),s=n(78),d=n(60),m=n(72),f={padding:2},p="https://images.unsplash.com/photo-1584118624012-df056829fbd0?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=300&q=60",g=function(e){var t=e.date,n=e.detailViewRedirectToProfile,a=e.imageURL,g=e.postID,b=e.rating,h=e.title,y=e.userImageURL,E=e.username,v="/feed/detail/".concat(g).concat(n?"?redirect=profile":"");return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{boxShadow:"0px 8px 12px rgba(42, 52, 61, 0.16078431372549)",borderRadius:8,maxWidth:["initial","initial",350]},r.a.createElement(l.a,{as:o.b,to:v},r.a.createElement(i.a,{height:128,position:"relative"},r.a.createElement(c.a,Object.assign({},f,{background:"#ffffffdd",borderTopRightRadius:8,bottom:0,_hover:{textDecoration:"underline"},position:"absolute",width:"80%"}),h),r.a.createElement(u.a,{alt:"post background image",borderTopLeftRadius:8,borderTopRightRadius:8,height:"100%",objectFit:"cover",src:null!==a&&void 0!==a?a:p,width:"100%"}))),r.a.createElement(d.a,{date:t,userImageURL:y,username:E,style:f}),r.a.createElement(i.a,Object.assign({},f,{alignItems:"center",display:"flex"}),r.a.createElement(m.a,{rating:b,shouldShowDescription:!1}),r.a.createElement(s.a,{as:o.b,marginLeft:6,to:v,variant:"outline",variantColor:"green"},"Verify"))))}},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(1),r=n.n(a),o=n(113),i=n(4),l=n(108),c="Based on information gathered, we do not have enough information to be confident of this data.",u=function(e){var t=e.boxProps,n=e.labelProps,a=e.rating,u=e.shouldShowDescription,s=function(e){return null===e||e<40?"gray":e>=40&&e<=70?"yellow":"green"}(a),d=r.a.createElement(o.b,{"aria-label":"reliability score of post",color:s,style:t,trackColor:s,value:null!==a&&void 0!==a?a:100},r.a.createElement(o.a,{style:n},null!==a&&void 0!==a?a:"?"));return u?r.a.createElement(i.a,{display:"flex",flex:1},r.a.createElement(i.a,{flex:3,marginRight:4},r.a.createElement(l.a,{as:"h3",color:"gray.700",fontWeight:"semibold",marginBottom:1},"Confidence score:"),r.a.createElement(l.a,null,function(e){return null===e||e<40||e>=40&&e<=70?c:"Based on information gathered, we are confident of this data."}(a))),r.a.createElement(i.a,{flex:1},d)):d}},98:function(e,t,n){"use strict";n.d(t,"a",(function(){return I})),n.d(t,"b",(function(){return R}));var a=n(1),r=n.n(a),o=n(19),i=n(43),l=n(20),c=n(158),u=n(165),s=n(78),d=n(168),m=n(52),f=n(108),p=n(4),g=n(169),b=n(84),h=n(97),y=n(60),E=function(e){var t=e.comment,n=e.date,a=e.userImageURL,o=e.username;return r.a.createElement(p.a,{marginBottom:6,padding:4,shadow:"sm"},r.a.createElement(f.a,{fontSize:"sm"},t),r.a.createElement(y.a,{date:n,userImageURL:a,username:o}))},v=n(72),O=n(34),j=n(37),w=n(67),I={news:"News",medical_supply:"Medical Supply",grocery:"Grocery",advice:"Advice"},x={advice:"/feed/advice",grocery:"/feed/grocery",medical_supply:"/feed/medical-supply",news:"/feed/news"},D=c.a,L=(/iPad|iPhone|iPod/.test(navigator.platform)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!window.MSStream,R=function(e){var t,n,c=e.match,R=e.previousPathname,k=Object(o.b)(),C=Object(i.g)(),P=Object(u.a)(),S=null!==(t=Object(o.c)(j.i).profile)&&void 0!==t?t:null,T=null!==(n=c.params.postID)&&void 0!==n?n:null,z=Object(o.c)((function(e){return Object(O.f)(e,parseInt(T))}));if(Object(a.useEffect)((function(){null===z&&k(Object(O.d)(+T))}),[k,z,T]),null===z||void 0===z?void 0:z.async.error)return r.a.createElement(r.a.Fragment,null,"TODO: Error state");if(null===z||!z.post)return r.a.createElement(r.a.Fragment,null,"TODO: Null state");var U=z.post,B=U.categories,W=U.comments,M=U.date,H=U.imageURL,N=U.rating,F=U.text,q=U.title,A=U.userImageURL,V=U.username,_=function(){var e=null!==R&&void 0!==R?R:"/";C.push(e)},J=r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{onClick:function(){Q(),_()},variant:"ghost",variantColor:"green"},"Disconfirm"),r.a.createElement(s.a,{marginLeft:4,onClick:function(){Q(),_()},variantColor:"green"},"Confirm")),Q=function(){P({title:"Vote saved.",description:"Thank you for making ".concat((null===S||void 0===S?void 0:S.cityName)?"content in ".concat(S.cityName):"local content"," more reliable."),status:"success",duration:7e3,isClosable:!0})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,{onClose:_,isFullHeight:!0,scrollBehavior:"inside",placement:"top",isOpen:!0},r.a.createElement(d.d,null),r.a.createElement(d.c,null,r.a.createElement(d.b,{"aria-label":"return to feed"}),r.a.createElement(m.f,{margin:["inherit","inherit","0 auto"],width:["initial","initial",1e3]},r.a.createElement(f.a,{as:"h2"},q),r.a.createElement(p.a,{marginTop:2,onClick:function(e){e.stopPropagation()}},B.map((function(e){return r.a.createElement(D,{as:l.b,key:e,to:x[e]},r.a.createElement(g.a,{marginRight:2,size:"sm"},I[e]))}))),r.a.createElement("div",{onClick:function(e){e.stopPropagation()},role:"presentation"},r.a.createElement(y.a,{date:M,style:{marginTop:4},userImageURL:A,username:V}))),r.a.createElement(m.b,{margin:"0 auto",maxWidth:"1000px",width:["initial","initial",1e3]},r.a.createElement(b.a,{alt:"post image",maxHeight:150,src:null!==H&&void 0!==H?H:w.a}),r.a.createElement(p.a,{marginTop:8},r.a.createElement(f.a,null,F)),r.a.createElement(p.a,{display:"flex",marginTop:[8,8,10]},r.a.createElement(v.a,{boxProps:{height:"100%",width:"100%",maxWidth:70,maxHeight:70},labelProps:{fontSize:"16px"},rating:N,shouldShowDescription:!0})),r.a.createElement(p.a,{marginTop:[8,8,10]},r.a.createElement(f.a,{as:"h3",color:"gray.700",fontWeight:"semibold",marginBottom:1},"Comments"),r.a.createElement("div",{onClick:function(e){e.stopPropagation()},role:"presentation"},r.a.createElement(p.a,{marginTop:4},W.length>0?W.slice().sort((function(e,t){return e.date>t.date?-1:1})).map((function(e){return r.a.createElement(E,Object.assign({key:e.commentID},e))})):r.a.createElement(f.a,{fontSize:"sm"},"No comments")),r.a.createElement(p.a,{display:"flex",marginTop:4},r.a.createElement(p.a,{marginRight:4,width:["80%","80%","40%"]},r.a.createElement(h.a,{"aria-label":"comment on this post",variant:"flushed",rounded:4,placeholder:"Share with your neighbors",size:"sm"})),r.a.createElement(s.a,{onClick:function(){P({title:"Comment not submitted",description:"Submitting commments is not yet supported in this demo.",status:"info",duration:7e3,isClosable:!0})},size:"sm",variant:"ghost"},"Comment")))),L&&r.a.createElement(p.a,{display:"flex",justifyContent:"flex-end",marginTop:8,marginBottom:16},J)),r.a.createElement(m.e,{maxWidth:"1000px",width:["initial","initial",1e3],margin:["initial","initial","0 auto"]},!L&&J))))}}},[[115,1,2]]]);
//# sourceMappingURL=main.9079b03b.chunk.js.map